name: Example Suite

tests:

  passing:
    name: Passing test
    steps:
      - exec: node1
        run: /bin/true
      - exec: node1
        env:
          FOO: bar
        run: |
          [ "${FOO}" == "bar" ]
        repeat: { retries: 3, interval: '1s' }

  inside-outside:
    name: Inside and outside test
    steps:
      - exec: node1
        run: echo 'inside node1' && hostname && pwd
      - exec: :host
        run: echo 'outside compose' && hostname && pwd

  fail-exit-code:
    name: Failing due to non-zero exit code
    steps:
      - exec: node1
        run: /bin/false
      - exec: node1
        run: echo 'This step is skipped'

  maybe-skipped:
    name: Skipped test (unless running with --continue-on-error)
    steps:
      - exec: node1
        run: /bin/true

  fail-nonexistent-container:
    name: Test nonexistent container
    steps:
      - exec: node2
        run: /bin/true
